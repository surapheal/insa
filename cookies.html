<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cookie Preferences</title>

  <style>
    /* Your existing styles */
  </style>
</head>
<body>
  <div class="container">
    <h1>Manage Your Cookie Preferences</h1>

    <div class="cookie-section">
      <h2>Performance Cookies</h2>
      <p>These cookies collect anonymous data on how you use our site to improve its performance.</p>
      <button type="button" class="collapsible">Learn More</button>
      <div class="content">
        <p>Performance cookies help us to improve our website's functionality, allowing us to better understand how users interact with our content.</p>
      </div>
      <div class="checkbox">
        <input type="checkbox" id="performance">
        <label for="performance">Enable Performance Cookies</label>
      </div>
    </div>

    <div class="cookie-section">
      <h2>Functional Cookies</h2>
      <p>Enable site functionalities like remembering your preferences.</p>
      <button type="button" class="collapsible">Learn More</button>
      <div class="content">
        <p>Functional cookies enhance the user experience by remembering your preferences and settings, making your next visit smoother.</p>
      </div>
      <div class="checkbox">
        <input type="checkbox" id="functional">
        <label for="functional">Enable Functional Cookies</label>
      </div>
    </div>

    <div class="cookie-section">
      <h2>Social Media Cookies</h2>
      <p>These cookies connect with social media platforms for sharing content.</p>
      <button type="button" class="collapsible">Learn More</button>
      <div class="content">
        <p>Social media cookies enable you to share content across social platforms like Facebook, Twitter, and more.</p>
      </div>
      <div class="checkbox">
        <input type="checkbox" id="socialMedia">
        <label for="socialMedia">Enable Social Media Cookies</label>
      </div>
    </div>

    <div class="cookie-section">
      <h2>Targeting Cookies</h2>
      <p>Used to deliver ads more relevant to you.</p>
      <button type="button" class="collapsible">Learn More</button>
      <div class="content">
        <p>Targeting cookies allow us to deliver ads and promotions tailored to your interests, helping to personalize your browsing experience.</p>
      </div>
      <div class="checkbox">
        <input type="checkbox" id="targeting">
        <label for="targeting">Enable Targeting Cookies</label>
      </div>
    </div>

    <div class="cookie-section">
      <h2>User Profile Cookies - Analytics</h2>
      <p>Help us understand user behavior through anonymized data.</p>
      <button type="button" class="collapsible">Learn More</button>
      <div class="content">
        <p>Analytics cookies allow us to analyze how users interact with the website to improve user experience and identify areas for improvement.</p>
      </div>
      <div class="checkbox">
        <input type="checkbox" id="analytics">
        <label for="analytics">Enable Analytics Cookies</label>
      </div>
    </div>

    <div class="button-group">
      <button class="button reject" onclick="rejectAll()">Reject All</button>
      <button class="button confirm" onclick="confirmChoices()">Confirm My Choices</button>
    </div>

    <p class="trust-message">We respect your privacy. You can change your preferences anytime.</p>
  </div>

  <script>
    // Save cookie preferences
    function rejectAll() {
      setCookie('cookie_preferences', JSON.stringify({
        performance: false,
        functional: false,
        socialMedia: false,
        targeting: false,
        analytics: false
      }));
      alert("All cookies rejected.");
    }

    function confirmChoices() {
      const cookiePreferences = {
        performance: document.getElementById('performance').checked,
        functional: document.getElementById('functional').checked,
        socialMedia: document.getElementById('socialMedia').checked,
        targeting: document.getElementById('targeting').checked,
        analytics: document.getElementById('analytics').checked
      };
      setCookie('cookie_preferences', JSON.stringify(cookiePreferences));
      alert("Your cookie preferences have been saved.");
    }

    // Set a cookie
    function setCookie(name, value) {
      const expires = new Date();
      expires.setFullYear(expires.getFullYear() + 1); // Cookie expires in 1 year
      document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires.toUTCString()}; path=/`;
    }

    // Handle collapsible sections
    var coll = document.getElementsByClassName("collapsible");
    for (var i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        content.style.display = (content.style.display === "block") ? "none" : "block";
      });
    }

    // Load saved preferences (if any)
    document.addEventListener('DOMContentLoaded', function() {
      const cookiePreferences = getCookie('cookie_preferences');
      if (cookiePreferences) {
        const preferences = JSON.parse(cookiePreferences);
        document.getElementById('performance').checked = preferences.performance;
        document.getElementById('functional').checked = preferences.functional;
        document.getElementById('socialMedia').checked = preferences.socialMedia;
        document.getElementById('targeting').checked = preferences.targeting;
        document.getElementById('analytics').checked = preferences.analytics;
      }
    });

    // Get a cookie value
    function getCookie(name) {
      const cookieArr = document.cookie.split(';');
      for (let i = 0; i < cookieArr.length; i++) {
        const cookie = cookieArr[i].trim();
        if (cookie.startsWith(name + '=')) {
          return cookie.substring(name.length + 1);
        }
      }
      return '';
    }
  </script>
</body>
</html>
